import flash.external.*import flash.net.FileReference;class nguma.Uploader extends MovieClip{		private var fileRef:FileReference		function Uploader()	{		init();	}		function init()	{		fileRef = new FileReference();		fileRef.addListener(this);		ExternalInterface.addCallback('browse',null,browse);	}		function alert(msg)	{		ExternalInterface.call('debug',msg);	}		function browse()	{		var imageTypes:Object = new Object();		imageTypes.description = "Images (*.jpg, *.jpeg, *.gif, *.png)";        imageTypes.extension = "*.jpg; *.jpeg; *.gif; *.png";		var allTypes = []        allTypes.push(imageTypes);		fileRef['postData'] =  _root.path;		fileRef.browse(allTypes);	}		function onRelease()	{		browse();	}	function upload()	{			}			function onSelect(file:FileReference):Void	{		    	if(!file.upload("/avatars/upload?path="+_root.path+"&user_id="+_root.user_id))		{			//alert("Error uploading "+file)		}		else		{			//alert("uploading ok")		}	}		function onUploadCompleteData(file:FileReference,returnData):Void	{		getURL('javascript:onAvatar(\''+returnData+'\')');	}		function onIOError(file:FileReference):Void	{				alert("IO:"+file.name);	}		function onHTTPError(file:FileReference,error):Void	{				alert(file.name+':'+error);	}				function onComplete(file:FileReference):Void	{				//alert("complete:"+file.name);	}}